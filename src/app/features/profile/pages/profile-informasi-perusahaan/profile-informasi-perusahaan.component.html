<div class="profile-menu">
  <app-sidebar></app-sidebar>
</div>
<div class="profile-content">
  <kendo-card orientation="vertical" style="width: 100%;">
    <kendo-card-body class="k-vstack">
      <kendo-panelbar id="profile-information-panelbar">
        <kendo-panelbar-item title="Overview" [expanded]="true">
          <ng-template kendoPanelBarContent>
            <div class="row align-items-center justify-content-center k-vstack">
              <img class="col-3" src="{{logoImg}}" />
              <kendo-fileselect id="imgPerusahaanUpload" class="col-md-auto mt-2" required name="files" look="flat"
                #files="ngModel" [restrictions]="imgRestrictions" [(ngModel)]="selectedFile"
                [ngModelOptions]="{standalone: true}" (change)="upload()"></kendo-fileselect>
            </div>
          </ng-template>
        </kendo-panelbar-item>
        <kendo-panelbar-item title="Data Perusahaan">
          <ng-template kendoPanelBarContent>
            <form>
              <div class="row align-items-center">
                <kendo-formfield [formGroup] = "profileInformationFormGroup">
                  <kendo-label class="col-3">Nama Perusahaan</kendo-label>
                  <kendo-textbox id="namaPerusahaan" class="col-md" placeholder="Nama Perusahaan" [clearButton]="true" [value]="vendor_info.name" formControlName="namaPerusahaan"></kendo-textbox>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.namaPerusahaan.errors?.required">Nama Perusahaan tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
              <div class="row align-items-center">
                <kendo-formfield [formGroup] = "profileInformationFormGroup">
                  <kendo-label class="col-3">Inisial Perusahaan</kendo-label>
                  <kendo-textbox id="inisialPerusahaanInput" class="col-md" placeholder="Inisial perusahaan"
                    [clearButton]="true" [maxlength]="10" [value]="vendor_info.altName" formControlName="inisialPerusahaan"></kendo-textbox>
                </kendo-formfield>
              </div>
              <div class="row">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label>Jenis Badan Usaha</kendo-label>
                  <ul class="k-radio-list k-list-horizontal">
                    <li class="k-radio-item">
                      <input id="ptRbtn" type="radio" #pt value="pt" formControlName="jenisBadanUsaha"
                        kendoRadioButton />
                      <kendo-label class="k-radio-label" [for]="pt" text="PT"></kendo-label>
                    </li>
    
                    <li class="k-radio-item">
                      <input id="cvRbtn" type="radio" #cv value="cv" formControlName="jenisBadanUsaha" kendoRadioButton />
                      <kendo-label class="k-radio-label" [for]="cv" text="CV"></kendo-label>
                    </li>
    
                    <li class="k-radio-item">
                      <input id="otherRbt" type="radio" #other value="other" formControlName="jenisBadanUsaha"
                        kendoRadioButton />
                      <kendo-label class="k-radio-label" [for]="other" text="Lainnya"></kendo-label>
                    </li>
                  </ul>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.jenisBadanUsaha.errors?.required">Jenis Badan Usaha tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
              <div class="row">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label>Status Badan Usaha</kendo-label>
                  <ul class="k-radio-list k-list-horizontal">
                    <li class="k-radio-item">
                      <input id="pkpRbt" type="radio" #pkp value="pkp" formControlName="statusBadanUsaha"
                        kendoRadioButton [checked]="pkpStatus ? true : false" />
                      <kendo-label class="k-radio-label" [for]="pkp" text="PKP"></kendo-label>
                    </li>
    
                    <li class="k-radio-item">
                      <input id="nonPkpRbt" type="radio" #nonpkp value="nonpkp" formControlName="statusBadanUsaha"
                        kendoRadioButton [checked]="pkpStatus ? true : false" />
                      <kendo-label class="k-radio-label" [for]="nonpkp" text="Non-PKP"></kendo-label>
                    </li>
                  </ul>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.statusBadanUsaha.errors?.required">Status Badan Usaha tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Tipe Badan Usaha</kendo-label>
                  <kendo-dropdownlist id="tipeBadanUsaha" class="col-md"
                    [defaultItem]="{ name: 'Pilih Tipe Badan Usaha', id: null }" [data]="tipeBadanUsahaItems"
                    textField="name" valueField="id" [(ngModel)]="selectedBadanUsaha" formControlName="tipeBadanUsaha" (valueChange)="onChangeList()"
                    required>
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.tipeBadanUsaha.errors?.required">Tipe Badan Usaha tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Kategori Badan Usaha</kendo-label>
                  <kendo-dropdownlist id="kategoriBadanUsaha" class="col-md" formControlName="kategoriBadanUsaha" [data]="listItems"
                    [defaultItem]="{ name: 'Pilih Kategori Badan Usaha', id: null }" textField="name" valueField="id"
                    [valuePrimitive]="true" #kategoriBadanUsaha>
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.kategoriBadanUsaha.errors?.required">Kategori Badan Usaha tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Jenis Kegiatan Usaha Utama</kendo-label>
                  <kendo-dropdownlist id="jenisKegiatanUsahaUtama" class="col-md" formControlName="jenisKegiatanUsahaUtama"
                    [defaultItem]="{ description: 'Pilih Jenis Kegiatan Usaha Utama', id: null }"
                    [data]="jenis_kegiatan_usaha" textField="description" valueField="id" [valuePrimitive]="true">
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.jenisKegiatanUsahaUtama.errors?.required">Jenis Kegiatan Usaha Utama tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Jenis Penyedia Usaha</kendo-label>
                  <kendo-dropdownlist id="jenisPenyediaUsaha" class="col-md" formControlName="jenisPenyediaUsaha"
                    [defaultItem]="{ description: 'Pilih Jenis Penyedia Badan Usaha', id: null }" textField="description"
                    valueField="id" [data]="jenis_penyedia_usaha">
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.jenisPenyediaUsaha.errors?.required">Jenis Penyedia Usaha tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">NPWP Perusahaan</kendo-label>
                  <kendo-textbox id="npwpPerusahaan" class="col-md" placeholder="Type your message here" formControlName="npwpPerusahaan" [clearButton]="true" [value]="vendor_info.npwp"></kendo-textbox>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.npwpPerusahaan.errors?.required">NPWP tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Nomor Induk Berusaha (NIB)</kendo-label>
                  <kendo-textbox id="nomorIndukBerusaha" class="col-md" placeholder="Type your message here" [clearButton]="true" [maxlength]="10" [value]="vendor_info.nomorIndukBerusaha" formControlName="nomorIndukBerusaha"></kendo-textbox>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.nomorIndukBerusaha.errors?.required">Nomor Induk Berusaha tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Bidang Usaha (KBLI 2020)</kendo-label>
                  <kendo-textbox id="bidangUsaha" class="col-md" placeholder="Type your message here" [clearButton]="true" [maxlength]="10" formControlName="bidangUsaha"></kendo-textbox>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.bidangUsaha.errors?.required">Bidang Usaha tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">BUMN Pengampu</kendo-label>
                  <kendo-autocomplete id="bumnPengampu" class="col" [kendoDropDownFilter]="{ operator: 'contains' }"
                    [data]="organizations" valueField="name" [filterable]="true" placeholder="BUMN Pengampu" [value]="vendor_info.bumnPengampu" formControlName="bumnPengampu">
                  </kendo-autocomplete>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.bumnPengampu.errors?.required">BUMN Pengampu tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Organisasi Himpunan</kendo-label>
                  <kendo-autocomplete id="organisasiHimpunan" class="col"
                    [kendoDropDownFilter]="{ operator: 'contains' }" [data]="organizations" valueField="name"
                    [filterable]="true" placeholder="Organisasi Himpunan" [value]="vendor_info.organisasiHimpunan"  formControlName="organisasiHimpunan">
                  </kendo-autocomplete>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Website Perusahaan</kendo-label>
                  <kendo-textbox id="websitePerusahaan" class="col-md" placeholder="Type your message here"
                    [clearButton]="true" [value]="vendor_info.website" formControlName="websitePerusahaan"></kendo-textbox>
                </kendo-formfield>
                <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.websitePerusahaan.errors?.required">Website Perusahaan tidak boleh kosong</kendo-formerror>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Jumlah Karyawan Total</kendo-label>
                  <kendo-numerictextbox id="jumlahKaryawanTotal" class="col-md" placeholder="Type your message here"
                    [spinners]="false" [maxlength]="10" [decimals]="0"  [min]="0" [value]="total_karyawan" formControlName="jumlahKaryawanTotal">
                  </kendo-numerictextbox>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.jumlahKaryawanTotal.errors?.required">Jumlah Karyawan Total tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <div class="col-3"></div>
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-md-auto">Jumlah Karyawan Lokal</kendo-label>
                  <kendo-numerictextbox id="jumlahKaryawanLokal" class="col-md" placeholder="Type your message here"
                    [spinners]="false" [maxlength]="10" [decimals]="0" [min]="0"
                    [value]="vendor_info.jumlahKaryawanDomestik" formControlName="jumlahKaryawanLokal"></kendo-numerictextbox>
                    <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.jumlahKaryawanLokal.errors?.required">Jumlah Karyawan Lokal tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <div class="col-3"></div>
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-md-auto">Jumlah Karyawan Asing</kendo-label>
                  <kendo-numerictextbox id="jumlahKaryawanAsing" class="col-md" placeholder="Type your message here"
                    [spinners]="false" [maxlength]="10" [decimals]="0" [min]="0" [value]="vendor_info.jumlahKaryawanAsing" formControlName="jumlahKaryawanAsing">
                  </kendo-numerictextbox>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.jumlahKaryawanAsing.errors?.required">Jumlah Karyawan Asing tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">No. Telepon Perusahaan</kendo-label>
                  <kendo-textbox id="noTeleponPerusahaan" class="col-md" placeholder="Type your message here" [clearButton]="true" [maxlength]="20" formControlName="noTeleponPerusahaan"></kendo-textbox>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.noTeleponPerusahaan.errors?.required">Nomor Telepon Perusahaan tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Alamat Perusahaan</kendo-label>
                  <kendo-textbox id="alamatPerusahaan" class="col-md" placeholder="Type your message here"
                    [clearButton]="true" [maxlength]="100" [value]="vendor_contact_mechanism.address1" formControlName="alamatPerusahaan"></kendo-textbox>
                    <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.alamatPerusahaan.errors?.required">Alamat Perusahaan tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Provinsi</kendo-label>
                  <kendo-dropdownlist id="provinsi" class="col-md" [defaultItem]="defaultItemProvinces"
                    [data]="dataProvinsi" textField="provinceDescription" valueField="provinceId" [value]="selectedProvince"
                    (valueChange)="handleProvinceChange($event)" formControlName="provinsi">
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.provinsi.errors?.required">Provinsi tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Kota/Kabupaten</kendo-label>
                  <kendo-dropdownlist id="kota" class="col-md" [defaultItem]="defaultItemKota"
                    [data]="dataResultKota" [value]="selectedKota" textField="kotaDescription" valueField="kotaId"
                    (valueChange)="handleKotaChange($event)" formControlName="kota">
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.kota.errors?.required">Kota tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Kecamatan</kendo-label>
                  <kendo-dropdownlist id="kecamatan" class="col-md" [defaultItem]="defaultItemKecamatan"
                    textField="kecamatanDescription" valueField="kecamatanId" [data]="dataResultKecamatan"
                    [value]="selectedKecamatan" (valueChange)="handleKecamatanChange($event)" formControlName="kecamatan">
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.kecamatan.errors?.required">Kecamatan tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Kelurahan</kendo-label>
                  <kendo-dropdownlist id="kelurahan" class="col-md" defaultItem="Pilih Kelurahan" [valuePrimitive]="true"
                    [data]="listItems" formControlName="kelurahan">
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.kelurahan.errors?.required">Kelurahan tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Kode Pos</kendo-label>
                  <kendo-dropdownlist id="kodePos" class="col-md" defaultItem="Pilih Kode Pos" [data]="listItems" [valuePrimitive]="true" formControlName="kodePos">
                  </kendo-dropdownlist>
                  <kendo-formerror class="formHint" *ngIf="profileInformationFormGroup.controls.kodePos.errors?.required">Kode Pos tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
  
              <div class="row align-items-center">
                <kendo-formfield [formGroup]="profileInformationFormGroup">
                  <kendo-label class="col-3">Pin Geolocation</kendo-label>
                  <kendo-textbox id="pinGeoLoc" class="col-md" placeholder="Type your message here" [clearButton]="true"  formControlName="pinGeoLoc"></kendo-textbox>
                </kendo-formfield>
              </div>
            </form>
          </ng-template>
        </kendo-panelbar-item>
        <kendo-panelbar-item title="Saham">
          <ng-template kendoPanelBarContent>
            <!-- pemegang saham here -->
            <app-pemegang-saham></app-pemegang-saham>
            <!-- pemegang saham here -->
            <br>
          </ng-template>
        </kendo-panelbar-item>
        <kendo-panelbar-item title="Data Pegawai">
          <ng-template kendoPanelBarContent>
            <div>
              <kendo-label>Pegawai</kendo-label>
              <br>
              <kendo-grid>
                <kendo-grid-column field="no" title="No.">
                </kendo-grid-column>
                <kendo-grid-column field="shareholder_name" title="Nama Pegawai Saham">
                </kendo-grid-column>
                <kendo-grid-column field="shareholder_type" title="Tipe Karyawan">
                </kendo-grid-column>
                <kendo-grid-column field="is_domestic_shareholder" title="Jabatan">
                </kendo-grid-column>
                <kendo-grid-column field="ownership" title="Bidang Pekerjaan">
                </kendo-grid-column>
                <kendo-grid-column field="ownership" title="Resume">
                </kendo-grid-column>
                <kendo-grid-column field="action" title="Action">
                </kendo-grid-column>
              </kendo-grid>
              <br>
              <button id="addPegawaiBtn" kendoButton look="flat" *ngIf="!opened" (click)="open()"
                icon="k-icon k-i-plus-outline" style="float: right; color:#0193AC;">
                Tambah Pegawai
              </button>

              <kendo-dialog id="addPegawaiDialog" title="Tambah Pegawai" *ngIf="opened" (close)="close()">
                <div class="container">
                  <div class="row">
                    <kendo-label class="col-3">No</kendo-label>
                    <kendo-textbox id="noPegawaiInput" class="col-md-auto" placeholder="Type your message here"
                      [clearButton]="true"></kendo-textbox>
                  </div>
                  <div class="row">
                    <kendo-label class="col-3">NIK</kendo-label>
                    <kendo-textbox id="nikPegawaiInput" class="col-md-auto" placeholder="Type your message here"
                      [clearButton]="true"></kendo-textbox>
                  </div>
                  <div class="row">
                    <kendo-label class="col-3">Nama Karyawan</kendo-label>
                    <kendo-textbox id="namaKaryawanInput" class="col-md-auto" placeholder="Type your message here"
                      [clearButton]="true"></kendo-textbox>
                  </div>
                  <div class="row">
                    <kendo-label class="col-3">Tipe Karyawan</kendo-label>
                    <kendo-dropdownlist id="tipeKaryawanDropdown" class="col-md-auto" defaultItem="Pilih Tipe Karyawan"
                      [data]="listItems" [valuePrimitive]="true">
                    </kendo-dropdownlist>
                  </div>
                  <div class="row">
                    <kendo-label class="col-3">Jabatan</kendo-label>
                    <kendo-textbox id="jabatanKaryawanInput" class="col-md-auto" placeholder="Type your message here"
                      [clearButton]="true"></kendo-textbox>
                  </div>
                  <div class="row">
                    <kendo-label class="col-3">Bidang Pekerjaan</kendo-label>
                    <kendo-textbox id="bidangPekerjaanKaryawanInput" class="col-md-auto"
                      placeholder="Type your message here" [clearButton]="true"></kendo-textbox>
                  </div>
                  <div class="row">
                    <kendo-label class="col-3">Resume</kendo-label>
                    <kendo-fileselect id="resumeKaryawanUpload" class="col-md-auto" [title]="'Pilih File'">
                    </kendo-fileselect>
                    <p style="font-style: italic;font-size: small;">*Dokumen dapat berupa doc, docx, PDF, maks 2MB</p>
                  </div>
                </div>

                <kendo-dialog-actions>
                  <button kendoButton id="saveKaryawanFormBtn" (click)="close()" [primary]="true">Simpan</button>
                  <button kendoButton id="closeKaryawanFormBtn" (click)="close()" [primary]="false">Batal</button>
                </kendo-dialog-actions>
              </kendo-dialog>
            </div>
          </ng-template>
        </kendo-panelbar-item>
      </kendo-panelbar>
    </kendo-card-body>
    <kendo-card-actions style="justify-content:right;">
      <button kendoButton id="saveInformasiPerusahaanBtn" class="k-button k-primary" type="submit">Simpan</button>
    </kendo-card-actions>
  </kendo-card>
</div>