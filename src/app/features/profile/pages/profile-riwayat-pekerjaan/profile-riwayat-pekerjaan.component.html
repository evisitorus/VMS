<div class="row profile-section">

  <div class="col-2 profile-menu">
    <app-sidebar></app-sidebar>
  </div>

  <div class="col-10 profile-content-container">
    <div class="profile-content">
      <kendo-label>Riwayat Pekerjaan</kendo-label>
      <br><br>
  
      <div>
        <kendo-grid
          [data]="gridData"
          style="height: 240px;"
        >
          <kendo-grid-column title="No.">
            <ng-template kendoGridCellTemplate let-rowIndex="rowIndex">
              {{rowIndex + 1}} 
            </ng-template>
          </kendo-grid-column>
          <kendo-grid-column *ngFor="let col of columns" [field]="col.field" [title]="col.title"></kendo-grid-column>
          <kendo-grid-column title="Action">
            <ng-template kendoGridCellTemplate>
              Edit
              |
              Delete
            </ng-template>
          </kendo-grid-column>
        </kendo-grid>
        <br>
        <button id="addPekerjaan" kendoButton *ngIf="!openedSaham" (click)="openSaham()" icon="k-icon k-i-plus-outline" class="vms-btn-primary button-right">
          Tambah Riwayat Pekerjaan
        </button>
  
        <kendo-dialog title="Tambah Riwayat Pekerjaan" *ngIf="openedSaham" (close)="closeSaham()" width="700px">
          <div>
            <form class="k-form login-form modal-form" [formGroup]="pekerjaanForm">

              <div class="row">
                <div class="col-4 modal-label">
                  <p>Nama Pekerjaan</p>
                </div>
                <div class="col-8 modal-field">
                  <kendo-formfield [formGroup]="pekerjaanForm">
                    <kendo-textbox class="content-input-field" id="namaPekerjaan" formControlName="namaPekerjaan" [clearButton]="true" #namaPekerjaan required></kendo-textbox>                
                    <kendo-formhint></kendo-formhint>
                    <kendo-formerror>Nama Pekerjaan tidak boleh kosong</kendo-formerror>
                  </kendo-formfield>
                </div>
              </div>


              <div class="row">
                <div class="col-4 modal-label">
                  <p>Pemberi Pekerjaan</p>
                </div>
                <div class="col-8 modal-field">
                  <kendo-formfield [formGroup]="pekerjaanForm">
                    <kendo-textbox  id="pemberiPekerjaan" formControlName="pemberiPekerjaan" #pemberiPekerjaan  placeholder="" [clearButton]="true"></kendo-textbox>
                    <kendo-formhint></kendo-formhint>
                    <kendo-formerror>Pemberi Pekerjaan tidak boleh kosong</kendo-formerror>
                  </kendo-formfield>
                </div>
              </div>


            <div class="row">
              <div class="col-4 modal-label">
                <p>Nilai Pekerjaan</p>
              </div>
              <div class="col-8 modal-field">
                <kendo-formfield [formGroup]="pekerjaanForm">
                  <kendo-numerictextbox id="nilaiPekerjaan" formControlName="nilaiPekerjaan" #nilaiPekerjaan  placeholder=""  format="n" [min]="0"  [spinners]="false"></kendo-numerictextbox>
                  <kendo-formhint></kendo-formhint>
                  <kendo-formerror>Nilai Pekerjaan tidak boleh kosong</kendo-formerror>
                </kendo-formfield>
              </div>
            </div>


            <div class="row">
              <div class="col-4 modal-label">
                <p>Tahun</p>
              </div>
              <div class="col-8 modal-field">
                <kendo-formfield [formGroup]="pekerjaanForm">
                  <kendo-numerictextbox id="tahunPekerjaan" formControlName="tahunPekerjaan" #tahunPekerjaan  placeholder="" format="#" [maxlength]="4" [min]="1900" [spinners]="false"></kendo-numerictextbox>
                  <kendo-formhint></kendo-formhint>
                  <kendo-formerror>Tahun tidak boleh kosong, pastikan benar</kendo-formerror>
                </kendo-formfield>
              </div>
            </div>

            <div class="row">
              <div class="col-4 modal-label">
                <p>Lampiran Bukti Pekerjaan</p>
              </div>
              <div class="col-8 modal-field">
                <kendo-formfield [formGroup]="pekerjaanForm">
                  <kendo-fileselect (select)="selectEventHandler($event)" [multiple]="false" id="input-spt-lampiran" required name="lampiran" #lampiran="ngModel" [restrictions]="fileRestrictions" [(ngModel)]="lampiranFiles" [ngModelOptions]="{standalone: true}" (change)="upload()"></kendo-fileselect>
                  <kendo-formerror *ngIf="invalidMaxFileSize">Maksimum ukuran file adalah 2MB</kendo-formerror>
                  <kendo-formerror *ngIf="invalidFileExtension">Dokumen harus berupa JPG / PNG / PDF dengan maksimum size 2MB</kendo-formerror>
                </kendo-formfield>
              </div>
            </div>

          </form>
        </div>
  
          <kendo-dialog-actions>
            <button id="submitPekerjaan" kendoButton (click)="submit()" [primary]="true">
              Simpan
            </button>
            <button id="closeButtonDialog" kendoButton (click)="closeSaham()" [primary]="false">
              Batal
            </button>
          </kendo-dialog-actions>
        </kendo-dialog>
      </div>
  
    </div>
  </div>
  
</div>
